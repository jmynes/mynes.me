// ═══════════════════════════════════════════════════════════════════════════
// Mixins — Reusable style patterns
// ═══════════════════════════════════════════════════════════════════════════

@use 'variables' as *;

// Glass panel effect - used by header, project cards, tooltips
@mixin glass-panel($bg: var(--glass-frost), $blur: 12px, $border: var(--glass-border)) {
  background: $bg;
  backdrop-filter: blur($blur);
  -webkit-backdrop-filter: blur($blur);
  border: 1px solid $border;
}

// Entry animation with cascade delays
@mixin entry-cascade($animation-name, $duration: 0.8s, $easing: ease-out) {
  .site-header {
    animation: $animation-name $duration $easing $cascade-header forwards;
  }

  .intro {
    animation: $animation-name $duration $easing $cascade-intro forwards;
  }

  .project:nth-child(1) {
    animation: $animation-name $duration $easing $cascade-project-1 forwards;
  }

  .project:nth-child(2) {
    animation: $animation-name $duration $easing $cascade-project-2 forwards;
  }
}

// Background layer fade in
@mixin bg-layer-fade($animation-name, $duration: 2s, $easing: ease) {
  .theme-bg,
  .theme-effects {
    animation: $animation-name $duration $easing forwards;
  }

  .theme-overlay {
    animation: $animation-name #{$duration * 0.75} $easing $cascade-overlay forwards;
  }
}

// Firefox performance fix - backdrop-filter is slow
@mixin firefox-fallback($bg-fallback) {
  @supports (-moz-appearance: none) {
    .site-header,
    .project {
      background: $bg-fallback;
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
    }

    .lightbox {
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
    }
  }
}

// Responsive border radius adjustments
@mixin responsive-radius {
  @media (max-width: 768px) {
    .site-header {
      border-radius: var(--radius-md);
    }

    .project {
      border-radius: var(--radius-md);
    }

    .project-screenshot-wrapper,
    .project-screenshot,
    .screenshot-overlay {
      border-radius: var(--radius-sm);
    }

    .lightbox-content,
    .lightbox-image {
      border-radius: var(--radius-md);
    }
  }
}

// Hide default pseudo-elements (many themes override these)
@mixin hide-pseudo {
  &::before,
  &::after {
    display: none;
  }
}

// Glow text effect
@mixin text-glow($color, $size: 20px) {
  text-shadow: 0 0 $size $color;
}

// Box glow effect
@mixin box-glow($color, $size: 15px) {
  box-shadow: 0 0 $size $color;
}
